<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>net8.0;netstandard2.1;</TargetFrameworks>
    <LangVersion>latestMajor</LangVersion>
    <Version>3.2.1</Version>
    <AssemblyVersion>3.2.1</AssemblyVersion>
    <FileVersion>3.2.1</FileVersion>
    <Title>Downloader</Title>
    <Authors>Behzad Khosravifar</Authors>
    <Company>bezzad</Company>
    <Description>Fast and reliable multipart downloader with asynchronous progress events for .NET</Description>
    <PackageProjectUrl>https://github.com/bezzad/Downloader</PackageProjectUrl>
    <RepositoryUrl>https://github.com/bezzad/Downloader</RepositoryUrl>
    <PackageTags>download-manager, downloader, download, idm, internet, streaming, download-file, stream-downloader, multipart-download</PackageTags>
    <PackageReleaseNotes>
      Add `EnableLiveStreaming` option and by default disabled value.
      Add `Microsoft.Extensions.Logging.ILogger` as default logger interface of the Downloader.
      Support for old versions of .NET was removed from the Downloader `v3.2.0`. From this version onwards, only `.Net 8` and higher versions will be supported.
      Fixed control the amount of system memory (RAM) that the Downloader consumes during downloading.
      Refactor all codes and test.
      Improve memory performance.
      Fixed some bugs.
    </PackageReleaseNotes>
    <SignAssembly>true</SignAssembly>
    <AssemblyOriginatorKeyFile>Downloader.snk</AssemblyOriginatorKeyFile>
    <Copyright>Copyright (C) 2019-2023 Behzad Khosravifar</Copyright>
    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    <PackageIcon>downloader.png</PackageIcon>
    <RepositoryType>git</RepositoryType>
    <PackageReadmeFile>README.md</PackageReadmeFile>
    <DebugType>embedded</DebugType>

	<!-- Optional: Publish the repository URL in the built .nupkg (in the NuSpec <Repository> element) -->
	<PublishRepositoryUrl>true</PublishRepositoryUrl>

	<!-- Optional: Build symbol package (.snupkg) to distribute the PDB containing Source Link -->
	<IncludeSymbols>true</IncludeSymbols>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCPU'">
    <DocumentationFile>bin\Release\net8.0\Downloader.xml</DocumentationFile>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
    <DebugType>full</DebugType>
    <DebugSymbols>true</DebugSymbols>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(TargetFramework)|$(Platform)'=='Debug|net6.0|AnyCPU'">
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(TargetFramework)|$(Platform)'=='Release|net6.0|AnyCPU'">
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>

  <ItemGroup>
    <None Remove="downloader.png" />
    <None Include="..\..\LICENSE">
      <Pack>True</Pack>
      <PackagePath>\</PackagePath>
    </None>
    <None Include="..\..\README.md">
      <Pack>True</Pack>
      <PackagePath>\</PackagePath>
    </None>
    <None Include="downloader.png">
      <Pack>True</Pack>
      <PackagePath>\</PackagePath>
    </None>
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.Extensions.Logging.Abstractions" Version="8.0.1" />
    <PackageReference Include="Microsoft.SourceLink.GitHub" Version="8.0.0" PrivateAssets="All" />
  </ItemGroup>

  <ItemGroup>
    <Resource Include="downloader.png" />
  </ItemGroup>
</Project>
